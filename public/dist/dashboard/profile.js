define("/dist/dashboard/profile",["jquery","region","form","uploadify","datepicker","language","ckeditor"],function(e,a,t){var o=e("jquery");e("region"),e("form"),e("uploadify"),e("datepicker"),e("language");var i=e("ckeditor");i.replace("teacherIntroduce"),o(".datepicker").datepicker({format:"yyyy-mm-dd",language:"zh-CN"}),o(".hometown").region({url:"/region"}),o("#updateTeacher").on("submit",function(){for(instance in CKEDITOR.instances)CKEDITOR.instances[instance].updateElement();return o(this).ajaxSubmit({url:"/update",type:"post",success:function(e){console.log(e),alert(e.msg),1e4==e.code&&location.reload()}}),!1}),o("#upfile").uploadify({buttonText:"",height:"120px",fileObjName:"tc_avatar",swf:"/assets/uploadify/uploadify.swf",uploader:"/upfile",itemTemplate:"<span></span>",onUploadSuccess:function(e,a){console.log(a);var a=JSON.parse(a);o(".preview img").attr("src","/avatars/"+a.filename)}})});